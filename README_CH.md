![](https://img.shields.io/github/license/laplacetw/vitepress-theme-trigger)
![Node.js >= 18.0.0](https://img.shields.io/badge/Node.js-%3E%3D18.0.0-green)
![VitePress 1.6.3](https://img.shields.io/badge/VitePress-1.6.3-green)

# vitepress-theme-trigger
ç‚ºå»ºç«‹éƒ¨è½æ ¼è€Œç”Ÿçš„ [VitePress](https://vitepress.dev) + [Tailwind CSS](https://tailwindcss.com) ä¸»é¡Œ

![](/public/preview.png)
## ç°¡ä»‹
ã€ŒTriggerã€æ˜¯ä¸€å€‹é–‹ç®±å³ç”¨çš„ VitePress ä¸»é¡Œï¼Œä»¥æˆ‘å¾ˆå–œæ­¡çš„æ¼«ç•«ä½œå“ [World Trigger](https://en.wikipedia.org/wiki/World_Trigger) å‘½åã€‚ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒï¼Œæˆ–è€…æ ¹æ“šéœ€æ±‚æˆ–å–œå¥½é€²ä¸€æ­¥ä¿®æ”¹ã€‚

æœ‰é—œè‡ªå®šç¾©ä¸»é¡Œçš„è³‡è¨Š :
- [VitePress Doc - Using Vue in Markdown](https://vitepress.dev/guide/using-vue)
- [VitePress Doc - Extending the Default Theme](https://vitepress.dev/guide/extending-default-theme)
- [VitePress Doc - Build-Time Data Loading](https://vitepress.dev/guide/data-loading)

å¦‚æœæœ‰ä»»ä½•å•é¡Œï¼Œæ­¡è¿ç›´æ¥æissueã€‚

## æ›´æ–°æ—¥èªŒ
æœ‰é—œæ›´æ–°çš„ç´°ç¯€éƒ½ç´€éŒ„åœ¨ [CHANGELOG](./CHANGELOG.md)ã€‚

## ä¸»é¡Œç‰¹è‰²
- ğŸ–‹ï¸ ä½¿ç”¨ CLI å¿«é€Ÿå»ºç«‹æ–°æ–‡ç«  â€“ ä¸€è¡ŒæŒ‡ä»¤å³å¯ç”Ÿæˆæ–‡ç« æ¨¡æ¿  
- ğŸ¤– AI å³æ™‚æ‘˜è¦ â€“ å³æ™‚ç”Ÿæˆæ–‡ç« é‡é»æ‘˜è¦ï¼Œè®“è®€è€…å¿«é€ŸæŒæ¡å…§å®¹
- ğŸ“ˆ SEO å¼·åŒ–ï¼ˆæ”¯æ´ JSON-LDï¼‰â€“ è‡ªå‹•åœ¨æ¯ç¯‡æ–‡ç« æ³¨å…¥çµæ§‹åŒ–è³‡æ–™  
- ğŸ¨ æ¡ç”¨ Tailwind CSS è¨­è¨ˆ â€“ éŸ¿æ‡‰å¼é é¢ï¼Œæ”¯æ´æ˜æš—ä¸»é¡Œåˆ‡æ› 
- ğŸ“š åˆ†é åŠŸèƒ½ï¼ˆä½¿ç”¨ History APIï¼‰â€“ æµæš¢åˆ‡æ›æ–‡ç« åˆ—è¡¨ï¼Œç„¡éœ€é‡æ–°è¼‰å…¥  
- ğŸ—ºï¸ [è‡ªå‹•ç”Ÿæˆ Sitemap](https://vitepress.dev/guide/sitemap-generation#sitemap-generation) â€“ æå‡éƒ¨è½æ ¼åœ¨æœå°‹å¼•æ“ä¸­çš„èƒ½è¦‹åº¦
- ğŸ§© æ¨¡çµ„åŒ–è¨­å®šæ•´åˆ â€“ å°‡æ¡†æ¶èˆ‡ä¸»é¡Œè¨­å®šé›†ä¸­ç®¡ç†ï¼Œæ˜“æ–¼ç¶­è­·èˆ‡æ“´å……
- ğŸ’¬ [Utterances ç•™è¨€ç³»çµ±](https://utteranc.es) â€“ åŸºæ–¼ GitHub Issues çš„è¼•é‡åŒ–ç•™è¨€åŠŸèƒ½
- ğŸ”„ ç•™è¨€å€ä¸»é¡ŒåŒæ­¥ â€“ Utterances æœƒè‡ªå‹•é…åˆç¶²ç«™æ˜æš—æ¨¡å¼åˆ‡æ›
- ğŸ“ [é‡å°è¡Œå‹•è£ç½®ç€è¦½æ”¹å–„ MathJax æ¨£å¼]((https://github.com/vuejs/vitepress/issues/3914#issuecomment-2138527325)) â€“ æ˜“è®€çš„æ•¸å­¸å…¬å¼å‘ˆç¾
- â­ï¸ ä¸Š/ä¸‹ä¸€ç¯‡è‡ªå‹•é€£çµ â€“ ç„¡éœ€é¡å¤–è¨­å®š frontmatter
- ğŸ¦¶ æ”¯æ´è…³è¨» â€“ ä½¿ç”¨ [markdown-it-footnote](https://github.com/markdown-it/markdown-it-footnote) å‘ˆç¾å°ˆæ¥­è¨»è§£èªªæ˜  

## å…ˆæ±ºæ¢ä»¶
- [Node.js](https://nodejs.org) ç‰ˆæœ¬æœ€ä½éœ€æ±‚ç‚º 18.0.0

## å¦‚ä½•ä½¿ç”¨
- è¤‡è£½æˆ–ä¸‹è¼‰æœ¬ä¸»é¡Œ
- æ ¹æ“šå€‹äººéœ€æ±‚ç·¨è¼¯ [theme config](/.vitepress/theme/config.ts) å’Œ [public è³‡æ–™å¤¾](/public/)ä¸­çš„æª”æ¡ˆ
- è‹¥è¦å•Ÿç”¨AIå³æ™‚æ‘˜è¦ï¼Œå¿…é ˆè¨»å†Š[Cloudflare](https://www.cloudflare.com)ä¸¦å»ºç«‹ä½ çš„AI Worker (æä¾›å…è²»é¡åº¦)å’ŒAI Gateway (æµé‡ç®¡ç†)ï¼Œå†å°‡Worker APIå¡«å…¥ä¸»é¡Œè¨­å®š
```
# worker.js
const corsHeaders = {
  'Access-Control-Allow-Origin': 'YOUR_HOST',
  'Access-Control-Allow-Methods': 'POST, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type',
  'Content-Type': 'application/json'
};

const sendErrorResponse = (message, status = 500) => {
  return new Response(JSON.stringify({ error: message }), {
    status,
    headers: corsHeaders
  });
};

export default {
  async fetch(request, env) {
    if (request.method === 'OPTIONS') {
      return new Response(null, { headers: corsHeaders });
    }

    if (request.method !== 'POST') {
      return sendErrorResponse('Only POST requests are allowed', 405);
    }

    try {
      const { message } = await request.json();
      if (!message) {
        return sendErrorResponse('Missing message in request body', 400);
      }
      const model = '@cf/meta/llama-3.1-8b-instruct';
      const userID = 'YOUR_USER_ID';
      const gatewayID = 'YOUR_AI_GATEWAY_NAME'
      const gateway = `https://gateway.ai.cloudflare.com/v1/${userID}/{gatewayID}/workers-ai/${model}`;
      const prompt = `ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„æ‘˜è¦åŠ©æ‰‹ï¼Œè«‹æ ¹æ“šæˆ‘æä¾›çš„å…§å®¹ï¼Œç”Ÿæˆä¸è¶…é60å­—çš„ç¹é«”ä¸­æ–‡æ‘˜è¦ï¼Œä¸¦ä¸”åªå›å‚³æ‘˜è¦ï¼Œä¸å¾—åŒ…å«å…¶ä»–å…§å®¹: ${message}`;
      const apiResponse = await fetch(
        gateway,
        {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `${env.key}`
          },
          body: JSON.stringify({'prompt': prompt})
        }
      );

      if (!apiResponse.ok) {
        throw new Error(`Cloudflare Workers AI error: ${apiResponse.statusText}`);
      }

      const response = await apiResponse.json();
      return new Response(JSON.stringify({ response }), { headers: corsHeaders });
    } catch (error) {
      return sendErrorResponse(error.message);
    }
  }
};
```
- å•Ÿå‹•çµ‚ç«¯æ©ŸåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ :
```shell
# å®‰è£ä¾è³´å¥—ä»¶
(p)npm install

# åœ¨/postsç›®éŒ„ä¸‹å»ºç«‹æ–°æ–‡ç« 
(p)npm run new {new-post-filename}

# å•Ÿå‹•æœ¬æ©Ÿä¼ºæœå™¨
(p)npm run dev

# æ‰“åŒ…APP
(p)npm run build

# é è¦½APP
(p)npm run preview
```

## éƒ¨ç½²
æˆ‘å€‘çš„å°ˆæ¡ˆåŒ…å«äº†GitHub workflowï¼Œä½ åªéœ€è¦ç¢ºèª[themeConfig.base](https://github.com/laplacetw/vitepress-theme-trigger/blob/main/.vitepress/theme/config.ts)è¨­å®šæ­£ç¢ºï¼Œåœ¨æ¨é€åˆ°GitHubä¹‹å¾Œå°‡æœƒè§¸ç™¼GitHub pagesçš„è‡ªå‹•éƒ¨ç½²æµç¨‹ã€‚

- [Deploy Your VitePress Site](https://vitepress.dev/guide/deploy)
- AWS Amplify
```yml
# amplify.yml
version: 1
frontend:
  phases:
    preBuild:
      commands:
        - nvm use 18
        - npm install -g pnpm
        - pnpm install --no-frozen-lockfile
    build:
      commands:
        - pnpm run build
  artifacts:
    baseDirectory: ./.vitepress/dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
```

## åƒè€ƒ
- [vuejs/blog](https://github.com/vuejs/blog)
- [airene/vitepress-blog-pure](https://github.com/airene/vitepress-blog-pure)
- [clark-cui/vitepress-blog-zaun](https://github.com/clark-cui/vitepress-blog-zaun)
